(this.webpackJsonpstorefront=this.webpackJsonpstorefront||[]).push([[0],{88:function(t,e,n){"use strict";n.r(e);var c=n(2),r=n(0),a=n.n(r),o=n(21),i=n.n(o),s=n(118),d=n(119),j=n(90),u=n(19),l=n(120),b=n(61),p=n(116),h=n(117),O=n(36),x=n.n(O),f=Object(b.a)({palette:{primary:{main:x.a[500]},secondary:{main:"#ffff"}}}),m=Object(p.a)((function(t){return{root:{flexGrow:1},title:{flexGrow:1}}}));var y=function(){var t=m();return Object(c.jsx)(h.a,{theme:f,children:Object(c.jsx)(s.a,{position:"static",children:Object(c.jsx)(d.a,{children:Object(c.jsx)(u.c,{to:"/",children:Object(c.jsx)(l.a,{color:"textPrimary",component:"button",underline:"none",children:Object(c.jsx)(j.a,{color:"secondary",variant:"h4",className:t.title,children:"Our Store"})})})})})})};var v=function(){return Object(c.jsx)("footer",{children:"by Nedal Erekat 2020"})},g=n(63),C=n(127),w=n(121),k=n(15),A=n(20),N=n(23),S=n.n(N),G={categories:[],active:null};var T={updateActive:function(t){return{type:"updateAction",payload:t}},getCategories:function(){return function(t){return S.a.get("https://productsandstuff.herokuapp.com/api/v1/categories").then((function(e){t(function(t){return{type:"GetCategories",payload:t}}(e.body))}))}}},I=Object(k.b)((function(t){return{categories:t.categories}}),T)((function(t){Object(r.useEffect)((function(){t.getCategories()}),[]);var e=0;return t.categories.categories.forEach((function(n,c){t.categories.active===n.name&&(e=c)})),Object(c.jsx)(g.a,{square:!0,children:Object(c.jsx)(C.a,{value:e,indicatorColor:"primary",textColor:"primary",centered:!0,children:t.categories.categories.map((function(e,n){return Object(c.jsx)(w.a,{label:e.name,onClick:function(){return t.updateActive(e.name)},children:e.name},n)}))})})})),_=n(47),E=[],P="https://productsandstuff.herokuapp.com/api/v1/products",B=function(t,e){return function(n){if(console.log("updateRemoteData : ",t,e),t.inventoryCount)return console.log("product.inventoryCount before add << ",t.inventoryCount," id: ",e),S.a.get("".concat(P,"/").concat(t._id)).then((function(t){return S.a.put("".concat(P,"/").concat(t.body[0]._id)).send(Object(A.a)(Object(A.a)({},t),{},{inventoryCount:t.body[0].inventoryCount-1}))})).then((function(t){console.log("product.inventoryCount after add >>",t.body.inventoryCount," id: ",e),n(z(t.body,e))}))}},z=function(t,e){return{type:"addToCart",payload:{product:t,i:e}}},D={products:[],listOnActive:["choose The categorey you want"]},F=function(t){return{type:"GET",payload:t}},J=n(123),M=n(125),R=n(124),V=n(126),q=n(122),W=Object(p.a)({root:{flexGrow:1,padding:1},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}});var X=Object(k.b)((function(t){return{Products:t.products}}),(function(t,e){return{get:function(){return t((function(t){return S.a.get("https://productsandstuff.herokuapp.com/api/v1/products").then((function(e){t(F(e.body))}))}))},updateCart:function(e,n){return t(B(e,n))}}}))((function(t){var e=W();return Object(r.useEffect)((function(){t.get()}),[]),Object(c.jsx)("div",{className:e.root,children:Object(c.jsx)(q.a,{container:!0,spacing:1,children:Object(c.jsx)(q.a,{container:!0,item:!0,xs:12,spacing:3,children:t.Products.listOnActive.map((function(n,r){return Object(c.jsx)(q.a,{item:!0,xs:4,children:Object(c.jsxs)(J.a,{className:e.root,variant:"outlined",children:[Object(c.jsxs)(R.a,{children:[Object(c.jsx)(j.a,{className:e.title,color:"textSecondary",gutterBottom:!0,children:n.category}),Object(c.jsx)(j.a,{variant:"h5",component:"h2",children:n.name}),Object(c.jsx)(j.a,{className:e.pos,color:"textSecondary",children:n.price}),Object(c.jsxs)(j.a,{variant:"body2",component:"p",children:[n.description,Object(c.jsx)("br",{}),'"a benevolent smile"']})]}),Object(c.jsxs)(M.a,{children:[Object(c.jsx)(V.a,{size:"small",onClick:function(){return t.updateCart(n,r)},children:"add to cart"}),Object(c.jsx)(V.a,{children:Object(c.jsx)(u.b,{to:{pathname:"/products/".concat(n._id)},children:"show more ..."})})]})]},r)},r)}))})})})})),Z=Object(b.a)({palette:{primary:{main:x.a[500]},secondary:{main:"#000"}}}),H=Object(p.a)((function(t){return{root:{flexGrow:1},cart:{flexGrow:1}}}));var K=Object(k.b)((function(t){return{Cart:t.cart}}),(function(t){return{delItem:function(e){return t({type:"del",payload:e})}}}))((function(t){var e=H(),n=t.Cart.length?t.Cart.map((function(e,n){return Object(c.jsxs)("li",{id:n,children:[e.name,Object(c.jsx)("button",{onClick:function(e){return t.delItem(e.target.parentNode.id)},children:"X"})]},n)})):Object(c.jsx)("h3",{children:"there is not any item in cart"});return Object(c.jsxs)(h.a,{theme:Z,children:[Object(c.jsx)("h3",{children:Object(c.jsx)(u.c,{to:"/cart",children:Object(c.jsx)(l.a,{color:"textPrimary",component:"button",underline:"none",children:Object(c.jsxs)(j.a,{color:"primary",variant:"h6",className:e.cart,children:["(",n.length||0,") items in Cart"]})})})}),Object(c.jsx)("ul",{children:n})]})}));var L=Object(k.b)((function(t){return{product:t.products.products}}),(function(t){return{updateCart:function(e,n){return t(B(e,n))}}}))((function(t){var e=t.product.filter((function(t){return t._id===window.location.pathname.split("/")[2]}));return Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:e[0].name}),Object(c.jsx)("p",{children:e[0].discrption}),Object(c.jsxs)("h3",{children:["Price: ",e[0].price]}),Object(c.jsxs)("h3",{children:["In Stock: ",e[0].inventoryCount]}),Object(c.jsx)("button",{onClick:function(){return t.updateCart(e[0],1)},children:"Buy"})]})}));var Q=Object(k.b)((function(t){return{allItems:t.cart}}))((function(t){var e=t.allItems.reduce((function(t,e){return t+parseInt(e.price)}),0),n=t.allItems.map((function(t,e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e}),Object(c.jsx)("td",{children:t.name}),Object(c.jsx)("td",{children:t.price})]},e)}));return console.log(e),Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"Order Summary"}),Object(c.jsxs)("table",{children:[Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"num"}),Object(c.jsx)("th",{children:"item"}),Object(c.jsx)("th",{children:"price"})]}),n,Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:"Total Price"}),Object(c.jsx)("td",{}),Object(c.jsx)("td",{children:e})]})]}),Object(c.jsxs)("form",{onSubmit:function(t){return function(t){t.preventDefault(),alert("Thank you for your purchase")}(t)},children:[Object(c.jsxs)("section",{className:"formOne",children:[Object(c.jsx)("h2",{children:"Billing Address"}),Object(c.jsx)("input",{type:"text",name:"name",placeholder:"Full Name"}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{type:"text",name:"address",placeholder:"Address"}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{type:"text",name:"city",placeholder:"City"}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{type:"text",name:"state",placeholder:"State"}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{type:"text",name:"zip",placeholder:"Zip"}),Object(c.jsx)("br",{})]}),Object(c.jsxs)("section",{className:"formSecond",children:[Object(c.jsx)("h2",{children:"Payment details"}),Object(c.jsx)("input",{type:"text",name:"cardNum",placeholder:"Credit Card #"}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{type:"date",name:"date"}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{type:"text",name:"cvv",placeholder:"CVV"}),Object(c.jsx)("br",{})]}),Object(c.jsx)("button",{children:"Checkout"})]})]})})),U=n(9);var Y=function(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(y,{}),Object(c.jsx)(K,{}),Object(c.jsxs)(U.c,{children:[Object(c.jsxs)(U.a,{exact:!0,path:"/",children:[Object(c.jsx)(I,{}),Object(c.jsx)(X,{})]}),Object(c.jsx)(U.a,{exact:!0,path:"/products/:id",children:Object(c.jsx)(L,{})}),Object(c.jsx)(U.a,{exact:!0,path:"/cart",children:Object(c.jsx)(Q,{})})]}),Object(c.jsx)(v,{})]})},$=n(22),tt=n(59),et=n(60),nt=Object($.combineReducers)({categories:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"updateAction":return Object(A.a)(Object(A.a)({},t),{},{active:e.payload});case"GetCategories":return{active:e.payload[0],categories:e.payload};default:return t}},products:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"updateAction":return Object(A.a)(Object(A.a)({},t),{},{listOnActive:t.products.filter((function(t){return t.category===e.payload}))});case"addToCart":var n=e.payload,c=n.product;n.id;return{listOnActive:t.listOnActive.map((function(t){return t._id===c._id?c:t})),products:t.products.map((function(t){return t._id===c._id?c:t}))};case"GET":return{listOnActive:e.payload,products:e.payload};default:return t}},cart:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"addToCart":return[].concat(Object(_.a)(t),[e.payload.product]);case"del":return t.splice(e.payload,1),console.log(t),Object(_.a)(t);default:return t}}}),ct=Object($.createStore)(nt,Object(tt.composeWithDevTools)(Object($.applyMiddleware)(et.a)));i.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(u.a,{children:Object(c.jsx)(k.a,{store:ct,children:Object(c.jsx)(Y,{})})})}),document.getElementById("root"))}},[[88,1,2]]]);
//# sourceMappingURL=main.ad7e9756.chunk.js.map